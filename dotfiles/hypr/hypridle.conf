# ╔════════════════════════════════════════════════════════════════════════════╗
# ║                             Hypridle Configuration                          ║
# ╚════════════════════════════════════════════════════════════════════════════╝
#
# Hypridle is an idle management daemon for Hyprland that handles automatic
# actions based on user inactivity. This configuration defines timeouts for:
# - Idle notifications (warns user of impending screen timeout)
# - Display power management (turning screen on/off)
# - Session locking for security
# - System suspension for power saving

# ── General Settings ──────────────────────────────────────────────────────────

general {
    lock_cmd = pidof hyprlock || hyprlock       # Command to lock screen (only if not already locked)
    before_sleep_cmd = loginctl lock-session   # Lock session before system sleeps
    after_sleep_cmd = hyprctl dispatch dpms on # Turn display back on after waking up
}

# ── Idle Notification (9 minutes) ────────────────────────────────────────────

listener {
    timeout = 540
    on-timeout = notify-send "System Idle" "Screen will turn off in 1 minute." # Send idle warning notification
}

# ── Screen Timeout (10 minutes) ───────────────────────────────────────────────

listener {
    timeout = 600
    on-timeout = hyprctl dispatch dpms off    # Turn off display after 10 minutes
    on-resume = hyprctl dispatch dpms on      # Turn display back on when activity resumes
}

# ── Lock Screen (15 minutes) ──────────────────────────────────────────────────

listener {
    timeout = 900
    on-timeout = loginctl lock-session        # Lock the session after 15 minutes of inactivity
}

# ── Suspend (30 minutes) ──────────────────────────────────────────────────────

listener {
    timeout = 1800
    on-timeout = systemctl suspend            # Suspend the system after 30 minutes of inactivity
}