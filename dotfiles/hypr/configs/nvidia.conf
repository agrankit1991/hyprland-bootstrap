# ╔════════════════════════════════════════════════════════════════════════════╗
# ║                            Nvidia Configuration                             ║
# ╚════════════════════════════════════════════════════════════════════════════╝
#
# This file contains Nvidia-specific environment variables and settings for
# optimal performance with Hyprland on Nvidia hardware.
#

# ── Nvidia Driver Environment Variables ──────────────────────────────────────

# Force Nvidia driver for VA-API
env = LIBVA_DRIVER_NAME,nvidia

# Use Nvidia GLX vendor library
env = __GLX_VENDOR_LIBRARY_NAME,nvidia

# Nvidia backend for hardware acceleration
env = NVD_BACKEND,direct

# Nvidia cursor fix
env = WLR_NO_HARDWARE_CURSORS,1

# ── Electron/Chromium Wayland Support ────────────────────────────────────────

# Auto-detect best platform (Wayland/X11)
env = ELECTRON_OZONE_PLATFORM_HINT,auto

# Force Wayland for Electron apps
# env = ELECTRON_OZONE_PLATFORM_HINT,wayland

# ── Additional Nvidia Environment Variables ──────────────────────────────────

# Enable DRM modesetting
env = NVIDIA_DRM_MODESET,1

# Force composition pipeline (may help with tearing)
# env = __GL_GSYNC_ALLOWED,1
# env = __GL_VRR_ALLOWED,1

# Memory management
env = __GL_SHADER_DISK_CACHE,1
env = __GL_SHADER_DISK_CACHE_SKIP_CLEANUP,1

# ── Vulkan ────────────────────────────────────────────────────────────────────

# Force Nvidia Vulkan driver
env = VK_ICD_FILENAMES,/usr/share/vulkan/icd.d/nvidia_icd.json

# ── OpenCL ────────────────────────────────────────────────────────────────────

# Set OpenCL vendor
env = OCL_ICD_VENDORS,/etc/OpenCL/vendors/nvidia.icd