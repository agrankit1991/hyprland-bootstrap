# ╔════════════════════════════════════════════════════════════════════════════╗
# ║                              Window Rules                                   ║
# ╚════════════════════════════════════════════════════════════════════════════╝

# ── Floating Windows ─────────────────────────────────────────────────────────

# System dialogs
windowrulev2 = float,class:^(org\.freedesktop\.impl\.portal\.desktop\.gtk)$
windowrulev2 = float,class:^(org\.freedesktop\.impl\.portal\.desktop\.kde)$
windowrulev2 = float,class:^(xdg-desktop-portal-gtk)$

# File choosers
windowrulev2 = float,class:^(file_progress)$
windowrulev2 = float,class:^(file-roller)$

# Authentication agents
windowrulev2 = float,class:^(polkit-kde-authentication-agent-1)$
windowrulev2 = float,class:^(polkit-gnome-authentication-agent-1)$

# Network manager
windowrulev2 = float,class:^(nm-applet)$
windowrulev2 = float,class:^(nm-connection-editor)$

# Bluetooth
windowrulev2 = float,class:^(blueman-manager)$

# Calculator
windowrulev2 = float,class:^(gnome-calculator)$
windowrulev2 = float,class:^(org\.gnome\.Calculator)$

# Image viewers
windowrulev2 = float,class:^(eog)$
windowrulev2 = float,class:^(feh)$

# ── Application-Specific Rules ───────────────────────────────────────────────

# Brave browser
windowrulev2 = workspace 2,class:^(brave-browser)$

# VS Code
windowrulev2 = workspace 3,class:^(code-url-handler)$
windowrulev2 = workspace 3,class:^(Code)$

# Discord
windowrulev2 = workspace 4,class:^(discord)$
windowrulev2 = workspace 4,class:^(Discord)$

# Spotify
windowrulev2 = workspace 5,class:^(Spotify)$
windowrulev2 = workspace 5,class:^(spotify)$

# ── Gaming Rules ─────────────────────────────────────────────────────────────

# Steam
windowrulev2 = workspace 6,class:^(Steam)$
windowrulev2 = float,class:^(Steam)$,title:^(Friends List)$
windowrulev2 = float,class:^(Steam)$,title:^(Steam Settings)$

# Gaming performance
windowrulev2 = immediate,class:^(cs2)$
windowrulev2 = immediate,class:^(dota2)$

# ── Opacity Rules ────────────────────────────────────────────────────────────

# Terminal transparency
windowrulev2 = opacity 0.9 0.9,class:^(kitty)$
windowrulev2 = opacity 0.9 0.9,class:^(Alacritty)$

# Code editor transparency
windowrulev2 = opacity 0.95 0.95,class:^(code-url-handler)$
windowrulev2 = opacity 0.95 0.95,class:^(Code)$

# ── Size Rules ───────────────────────────────────────────────────────────────

# Rofi
windowrulev2 = float,class:^(Rofi)$
windowrulev2 = dimaround,class:^(Rofi)$

# Notification center
windowrulev2 = float,class:^(swaync-notification-window)$
windowrulev2 = float,class:^(swaync-control-center)$

# ── Layer Rules ──────────────────────────────────────────────────────────────

# Always on top
layerrule = blur,rofi
layerrule = ignorezero,rofi

layerrule = blur,notifications
layerrule = ignorezero,notifications

layerrule = blur,swaync-notification-window
layerrule = ignorezero,swaync-notification-window

layerrule = blur,swaync-control-center
layerrule = ignorezero,swaync-control-center

# ── Special Rules ────────────────────────────────────────────────────────────

# Picture-in-Picture
windowrulev2 = float,title:^(Picture-in-Picture)$
windowrulev2 = pin,title:^(Picture-in-Picture)$
windowrulev2 = move 75% 75%,title:^(Picture-in-Picture)$

# Firefox PiP
windowrulev2 = float,class:^(firefox)$,title:^(Picture-in-Picture)$
windowrulev2 = pin,class:^(firefox)$,title:^(Picture-in-Picture)$

# Screensharing
windowrulev2 = float,class:^(org\.freedesktop\.impl\.portal\.desktop\.gtk)$,title:^(screencast)$

# ── Inhibit Idle Rules ───────────────────────────────────────────────────────

# Video players
windowrulev2 = idleinhibit focus,class:^(mpv)$
windowrulev2 = idleinhibit focus,class:^(vlc)$

# Fullscreen applications
windowrulev2 = idleinhibit fullscreen,class:.*